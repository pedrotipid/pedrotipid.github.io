<!DOCTYPE html>
<html>
<!--    http://jsfiddle.net/rafap/-->

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="styles.css" />        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>        
    </head>

    <body>
<!--
        <svg id="picture" viewBox="0 0 128 228" xmlns="http://www.w3.org/2000/svg">
            <rect width="128" height="228" fill="black"/>
            <rect x="19" y="18" width="93" height="54" fill="#C4C4C4"/>
            <rect x="18" y="158" width="93" height="54" fill="#E70E0E"/>
        </svg>
-->
   
            <text>Make your TIPI!</text>
     
            <svg id="picture" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 187 341">
            <defs id="defs4">
                <pattern id='texture1' width="1" height="1" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
                    <image xlink:href='https://i.imgur.com/m6wJgY2.jpg' width="100" height="100" preserveAspectRatio="none"></image>
                </pattern>
                <pattern id='texture2' width="1" height="1" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
                    <image xlink:href='https://i.imgur.com/Y7Cn9Xa.jpg' width="100" height="100" preserveAspectRatio="none"></image>
                </pattern>
                <pattern id='texture3' width="1" height="1" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
                    <image xlink:href='https://i.imgur.com/gpXOrqP.jpg' width="100" height="100" preserveAspectRatio="none"></image>
                </pattern>        
            </defs>
            <style type="text/css">
                .st0{fill:none;stroke:#000000;stroke-miterlimit:10;}
                .st1{stroke:#000000;stroke-miterlimit:10;}
                .st2{fill:none;stroke:#000000;stroke-width:0.75;stroke-miterlimit:10;}
            </style>
            <g id="Legs">
                <path class="tipi-body" d="M87.2,215.8l-3.3-0.6l-4.2-0.7l-2.7-1.1l-1.7-1.8l0.3,1.8c0,2.2,0,5.2,0,8.8c0,1.4,0.1,4.5,0.3,11.2
                    c0.3,7.8,0.6,8.8,0.7,14.2c0.1,4.2-0.1,4.4,0,8c0.1,4.1,0.3,7.3,1,15.3c0.9,10.3,1.4,15.4,2,20.5c0,0.3,0,0.2,2.5,17.2
                    c0.8,5.3,1.2,8.6,2.8,12.8c0.5,1.3,1.4,4.7,4,8.2c1.5,2,2.9,4,4.7,3.8c1.8-0.2,3.4-2.5,4-5.8c0-1.8,0-3.6,0-5.5
                    c0-4.9-0.2-9.7-0.5-14.3c-0.2-1.5-0.5-3.8-1-6.5c-1.2-6.9-1.9-9.4-3.3-16.5c-1.1-5.2-1.9-9.5-2.7-15.3c-0.6-4.5-0.8-7.8-1.2-12.5
                    c-0.2-2.5-0.6-8.6-0.8-16.7c-0.2-5.3-0.1-7.1-0.3-12.5c-0.2-3.7-0.4-6.7-0.5-8.7V215.8"/>
                <path class="tipi-body" d="M125.3,210.8c0.1,1.2,0.3,3,0.4,5.3c0.1,3.3-0.2,4.6-0.2,7.5c0,3.3,0.3,3.7,0.7,8.8c0.3,3.6,0.3,6.1,0.3,9.3
                    c0.1,3.9-0.1,5.3-0.2,12.7c-0.1,6.9-0.1,10.3-0.2,11.7c-0.2,6.8-0.6,11.9-0.8,15.3c-0.6,7.6-0.8,11.3-1.5,15.7
                    c-0.3,1.9-1.5,7.2-4,17.7c-0.5,2.1-2.3,9.4-6.2,14.3c-0.9,1.2-2.3,2.7-4,2.7c-1.5-0.1-2.5-1.3-2.8-1.7c-2.3-2.7-1.6-6.8-0.8-11.7
                    c0.6-4.3,1-8.7,1.7-13c0.9-6.4,0.5-6.3,1.7-18c1-10.6,1.4-11,2-17.8c0.8-9.2,0-8.2,0.8-20.8c0.4-5.7,0.7-9.4,0.7-15.7
                    c0-3.8-0.2-6.9-0.3-9l-0.1-9.4l2.6-0.6l3.1-0.7l2.1-0.5C121.9,212.2,123.6,211.5,125.3,210.8z"/>
                <path class="st0" d="M125.3,210.8"/>
            </g>
            <g id="Arms">
                <path class="tipi-arms" d="M85.2,136.3c0.2-1.9,0.1-8.2,0.8-10.2c0.2-0.6,0.1-0.5,0.2-1.1l-2.1,1.8c-1.6,1.7-4,4.1-6.8,7.1
                    c-4.6,4.9-6.9,7.4-8.9,9.8c-2.4,2.9-4.9,6.6-9.8,13.8c-4.9,7.2-7.4,10.9-9.5,14.9c-1.1,2-0.6,1.2-5.6,11.8
                    c-4.7,9.7-5.9,12.2-7.5,16.9c-0.2,0.5-1.5,4.5-2.4,10c-1.1,6.8-0.5,9.4,0.6,11.3c0.4,0.7,1.8,3,3.8,3c2,0,4.1-2.2,4.9-5.6
                    c0,0,1.4-6.8,1.4-7.5s1.6-9.9,1.6-9.9c0,0,0,0,0,0c1.5-4.2,2.7-7.3,2.8-7.6c1.8-4.9,6.7-14.3,8.3-17.3c3.1-6,4.7-9,6.7-12.3
                    c4.2-7.2,9.4-14.7,9.4-14.7c0,0,3.2-3.9,11.6-13.1C85,136.7,85.2,136.6,85.2,136.3z"/>
                <path class="tipi-arms" d="M121.2,137.3c0.9,1.5,2.1,3.8,3.7,6.5c3.3,6,5.3,8.8,6.2,11.2c1.6,4.4,4.1,9.6,5.8,15.5
                    c1.6,5.8,2.4,4.5,5.6,14c3,8.9,3.4,8.4,5,14.2c1.4,4.9,1.7,7.1,3.5,11.8c3,7.7,5.1,9,6.7,9.3c1.1,0.2,2.8,0.1,3.8-1
                    c0.7-0.8,0.8-1.8,0.8-3.2c0-3.8-0.8-6.8-1.3-9c-1.2-4.7-0.8-3.8-1.5-6.3c-1.6-6-3.7-11.1-6.3-17.2c-3.3-7.7-3.4-7.4-7.2-16
                    c-4.8-10.9-4.6-11.3-7-15.8c-2.6-5.1-2.6-4.2-7.3-12.8c-1.5-2.8-2.8-5.3-5.2-8.5c-1.9-2.6-3.6-4.5-4.8-5.8l-1.3-0.8l0.5,1.7
                    l0.2,3.7l0.1,3.7l0.2,3.7"/>
                <line class="st0" x1="121.2" y1="137.3" x2="121.1" y2="136.3"/>
                <path class="st0" d="M104.8,170.7"/>
            </g>
            <g id="Body">
                <path class="tipi-body" d="M107.8,110.3c2.2-0.5,3.7-1.5,4.5-2.2c2.7-2.2,3.7-5.1,4.4-7.1c0.6-1.8,0.8-3.1,1-4.7c0.4-3.4,0.4-6.4,0.3-9
                    c-0.2-2.9-0.4-5.9-1.6-9.6c-0.7-2.3-1.5-4.7-3.6-7.4c-1.2-1.6-3.4-4.2-7.3-5.6c-3.8-1.4-7.1-0.8-8.5-0.5c-1.4,0.3-3.7,0.7-5.9,2.4
                    c-2.9,2.1-3.9,5-5.1,8.3c-1.3,3.5-1.6,6.3-1.9,9c-0.3,3.2-0.6,5.5-0.1,8.5c0.1,0.9,0.8,5.1,3.6,9.6c1.1,1.7,3,4.8,6.8,7.4
                    c1.3,0.9,2.5,1.5,3.4,1.9v1.6l0.1,4l-1.1,1c-2.1,1.3-4.2,2.5-6.3,3.8c0,0-3.5,0.8-4.3,3.5s-1.1,12.9-1.3,16
                    c-0.2,3.6-0.8,6.6-1.8,11.3c-0.8,4.1-1.8,8.5-1.8,8.5c-0.5,2.2-0.8,3.2-1.2,5.2c-0.5,2.7-0.9,4.8-1.1,6.2
                    c-0.8,5.4-1.2,8.1-1.7,11.8c-1.2,8.9-1.9,13.3-2,14c-1.4,11.6-0.7,13-0.3,13.8c2.1,3.6,8,3.6,19.5,4c5.3,0.2,11.5,0.3,19.5-1.5
                    c8.2-1.8,10-2,11-3.5c1.8-2.7,0.5-5.7-0.5-13.8c-0.1-1,0.1,1-0.8-12.3c-0.8-11.8-0.9-12.8-1.5-21.8c-0.4-6.6-0.6-9.9-0.8-13
                    c-0.2-5.6-0.4-8.4-0.5-10.3c-0.1-3.1-0.3-6.2-0.4-9.4c-0.1-5-0.1-6.4-1.3-7.8c-0.9-1.1-2.3-1.7-5.2-2.9c-2.2-0.9-4.1-1.5-5.4-1.9
                    c-0.2-1.2-0.5-2.5-0.7-3.8C108.2,112.7,108,111.4,107.8,110.3z"/>
            </g>
                <g id="Face">
                    <path class="st1" d="M101.9,75.1c-0.1,0.4-0.3,0.9-0.2,1.4c0,0.2,0.2,0.8,0.6,0.9c0.3,0.1,0.7-0.2,0.9-0.5c0.6-0.9-0.1-1.9-0.1-1.9
                        c0,0,0,0,0,0c-0.1,0-0.2-0.9-0.6-0.9C102.2,74.1,102,74.7,101.9,75.1z"/>
                    <path d="M95.7,76.1c-0.1,0.5-0.2,1.1,0.1,1.7c0.1,0.2,0.3,0.5,0.6,0.6c0.4,0.2,0.9-0.1,1-0.2c0.7-0.5,0.8-1.4,0.9-1.7
                        c0.1-0.6-0.1-1-0.2-1.5c-0.2-0.5-0.3-0.8-0.6-0.9c-0.3-0.1-0.7,0.1-0.8,0.2c-0.1,0-0.3,0.2-0.5,0.5C95.8,75.3,95.8,75.7,95.7,76.1z
                        "/>
                    <path d="M100.3,85.9c0,0.6,1,1,1.1,1c0.2,0.1,1.4,0.5,2-0.3c0.3-0.4,0.3-1.1,0-1.5c-0.4-0.6-1.1-0.5-1.4-0.5
                        C101.2,84.7,100.2,85.3,100.3,85.9z"/>
                    <path d="M111.5,94.4c0.1,0.4,0.9,0.4,1.1,0.4c0.4,0,1.1,0,1.3-0.4c0.2-0.3,0.1-0.7-0.1-0.9c-0.4-0.5-1.3-0.1-1.4-0.1
                        C111.9,93.6,111.4,94.1,111.5,94.4z"/>
                    <path d="M89.1,95.2c0,0.3,0.4,0.5,0.6,0.6c0.1,0.1,0.3,0.2,0.6,0.2c0.1,0,0.4,0,0.7-0.1c0.3-0.2,0.4-0.6,0.3-0.9
                        c-0.2-0.5-1-0.5-1.1-0.5C89.7,94.5,89.1,94.8,89.1,95.2z"/>
                    <path class="st2" d="M101.9,86.5v3.3v3.5v3.5l-0.4,3.9c-0.1,0.5-0.4,1.3-1.1,2.2c-0.3,0.4-1.1,1.2-2.4,1.4
                        c-1.3,0.2-2.3-0.3-2.8-0.5c-0.8-0.4-1.2-0.9-1.9-1.7c-0.4-0.4-1.5-1.8-2.4-4c-0.3-0.7-0.5-1.8-0.6-2.4"/>
                    <path class="st2" d="M101.5,100.6c0.1,0.4,0.1,2.1,1,3c1.4,1.3,3.4,1,3.7,0.9c1.4-0.3,2.2-1.1,2.9-1.9c0.9-0.9,1.3-1.8,1.9-3
                        c0.5-1,0.8-1.9,1.1-2.5c0,0,0.5-1.3,0.4-2.4"/>
                    <path class="st2" d="M90.5,96.6"/>
                    <path class="st2" d="M90.4,95.6"/>
                </g>
                <g id="Ears">
                    <path class="tipi-ears" d="M88.1,69.9c-1-2-2.2-4.7-3.5-7.9c-0.6-1.4-1.6-4.7-2.7-8.2c-1.9-6.3-1.8-11.9-1.7-17.3
                        c0.1-5.6,0.3-10.4,2.5-16.2c0,0,1.8-4.5,6.2-9c0.5-0.5,1.6-1.6,3.3-2.1C93,9,95,8.4,96.2,9.4c0.9,0.8,0.8,2.3,0.7,3.6
                        c-0.1,1.4-0.5,2.8-1.7,5.2c-1.3,2.5-1.8,2.9-2.8,4.7c-1.2,2.1-1.6,3.8-2.5,7.2c-0.7,2.8-1.3,5.1-1.5,8.3c-0.1,2.1,0.1,3.9,0.5,7.5
                        c0,0.2,0.4,4.1,1.3,8.5c0.8,3.7,1.5,5.7,1.7,6.3c0.6,1.8,1.3,3.3,1.8,4.3l-2.5,1.4l-1.6,1.4L88.1,69.9z"/>
                    <path class="tipi-ears" d="M107.1,65.3c0.7-1.3,1.7-3.3,2.4-5.9c0.8-3,0.8-5.4,0.8-10.2c0-3.1,0-6.2-0.5-10.3c-0.3-2.6-0.7-5.8-1.8-9.2
                        c-1.1-3.3-1.5-2.6-2.9-6.7c-0.5-1.6-0.9-3.2-1.7-6.4c-0.6-2.5-0.8-3.5-0.7-4.7c0-1.4,0.1-3.7,1.6-4.5c0.5-0.3,1.7-0.7,2.9-0.4
                        c0,0,0.1,0,0.1,0c1.6,0.5,2.6,1.8,3.7,3.8c2.4,4.4,3.5,8.3,3.7,8.7c0.3,0.9,1.2,4.1,1.8,8.7c0.3,2.2,0.5,4.5,0.8,9.2
                        c0.3,4.5,0.5,6.7,0.5,8.7c0,2.5,0,5.7-0.7,9.7c-0.6,3.6-1.5,6.4-2.2,8.3l-2.8,5.3l-1.8-1.8C109.2,66.8,108.2,66.1,107.1,65.3z"/>
                    <path class="st0" d="M131.8,59.1"/>
                    <path class="st0" d="M149.8,78.9"/>
                    <path class="st0" d="M118.7,18.6"/>
                </g>
            </svg>
        
            <div>                
                <button class="button-arrow" id="button-ears-previous">&#60;</button>
                <text>Ears</text>
                <button class="button-arrow" id="button-ears-next">&#62;</button>
            </div>
            <div>                
                <button class="button-arrow" id="button-body-previous">&#60;</button>
                <text>Body</text>
                <button class="button-arrow" id="button-body-next">&#62;</button>
            </div>
            <div>
                <button class="button-arrow" id="button-arms-previous">&#60;</button>
                <text>Arms</text>
                <button class="button-arrow" id="button-arms-next">&#62;</button>
            </div>
            <div>
                <button id="button-random">Random</button>
                <button id="button-reset">Reset</button>
            </div>            
        
            <!-- Begin Mailchimp Signup Form -->        
            <div id="mc_embed_signup">
                <form action="https://studio.us7.list-manage.com/subscribe/post?u=91def111d4af487bfd98bf296&amp;id=3d8a2365bf" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                    <div id="mc_embed_signup_scroll">
                        <input type="hidden" value="" name="TIPIURL" class="" id="mce-TIPIURL">
                        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_91def111d4af487bfd98bf296_3d8a2365bf" tabindex="-1" value=""></div>
                        <div class="clear"><input type="submit" value="Make it!" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                    </div>
                </form>
            </div>
            <!--End mc_embed_signup-->
            
        <script>
        // https://stackoverflow.com/questions/42447446/place-square-svg-to-the-center-of-the-screen-scale-it-to-fit-the-screens-width        
            
        $(document).ready(function() {            
            var partsEars = $(".tipi-ears");
            var partsBody = $(".tipi-body");
            var partsArms = $(".tipi-arms");

            var indexTextureEars = 0;
            var indexTextureBody = 0;
            var indexTextureArms = 0;
            
            var TEXTURE_COUNT = 3;
            
            reset();
            
            $("#button-ears-next").on("click", function() {
                indexTextureEars = (indexTextureEars < TEXTURE_COUNT) ? ++indexTextureEars : 1; 
                updateParts(partsEars, indexTextureEars);
            });
            
            $("#button-ears-previous").on("click", function() {
                indexTextureEars = (indexTextureEars - 1 >= 1) ? --indexTextureEars : TEXTURE_COUNT;
                updateParts(partsEars, indexTextureEars);
            });
            
            $("#button-body-next").on("click", function() {
                indexTextureBody = (indexTextureBody < TEXTURE_COUNT) ? ++indexTextureBody : 1; 
                updateParts(partsBody, indexTextureBody);
            });
            
            $("#button-body-previous").on("click", function() {
                indexTextureBody = (indexTextureBody - 1 > 1) ? --indexTextureBody : TEXTURE_COUNT;
                updateParts(partsBody, indexTextureBody);
            });
            
            $("#button-arms-next").on("click", function() {
                indexTextureArms = (indexTextureArms < TEXTURE_COUNT) ? ++indexTextureArms : 1; 
                updateParts(partsArms, indexTextureArms);
            });
            
            $("#button-arms-previous").on("click", function() {
                indexTextureArms = (indexTextureArms - 1 > 1) ? --indexTextureArms : TEXTURE_COUNT;
                updateParts(partsArms, indexTextureArms);
            });
            
            $("#button-random").on("click", function() {
                indexTextureArms = random(1, TEXTURE_COUNT);
                updateParts(partsArms, indexTextureArms);
                
                indexTextureBody = random(1, TEXTURE_COUNT);
                updateParts(partsBody, indexTextureBody);
                
                indexTextureEars = random(1, TEXTURE_COUNT);
                updateParts(partsEars, indexTextureEars);                
            });
            
            $("#button-reset").on("click", function() {
                reset();
            });
            
            $("#mc-embedded-subscribe-form").submit(function() {
                var url = "http://tipid.ee?texture-ears=" + indexTextureEars + "&texture-body=" + indexTextureBody + "&texture-arms=" + indexTextureArms;
                $("#mce-TIPIURL").val(url);
                return true;
            });
            
            function reset() {
                indexTextureArms = 0;
                updateParts(partsArms, indexTextureArms);
                indexTextureBody = 0;
                updateParts(partsBody, indexTextureBody);
                indexTextureEars = 0;
                updateParts(partsEars, indexTextureEars);
            }
            
            function updateParts(parts, textureIndex) {
                $.each(parts, function(index, part) {
                    var textureName = "texture" + textureIndex;
                    $(part).css("fill", "url(#" + textureName + ")");
                });
            }            
            
            function random(min, max) {
                return Math.floor(Math.random() * (max - min + 1) + min);
            }
        });
        </script>

    </body>
</html>